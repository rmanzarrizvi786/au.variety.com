jQuery(document).ready((function($){$(document).on("submit",".tastemaker-form",(function(e){e.preventDefault();var this_form=$(this),btn=$(this).find(".tastemaker-submit"),elem_loading=this_form.find(".loading"),elem_js_errors=this_form.find(".js-errors"),elem_js_success=this_form.find(".js-success"),elem_tastemaker_wrap=this_form.find(".tastemaker-wrap");elem_loading.show(),elem_js_errors.addClass("d-none").html(""),btn.attr("disabled",!0).hide();var formData=this_form.serialize(),the_url;if(formData+="&source="+this_form.closest(".single-article").find("h1:first").data("href"),js_errors="",console.log(this_form.find('input[name="rating"]:checked').length),0==this_form.find('input[name="rating"]:checked').length&&(js_errors+="Please select a valid rating from 1 to 5 stars.<br>"),this_form.find('input[name="email"]').length&&""==this_form.find('input[name="email"]').val()&&(js_errors+="Please enter a valid email address."),""!=js_errors)return btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html(js_errors),!1;$.post(brag_observer.url,{action:"save_tastemaker_review",formData:formData},(function(res){if(elem_loading.hide(),res.success)elem_tastemaker_wrap.hide(),res.data.verified?elem_js_success.addClass("alert alert-success").html(res.data.message):elem_js_success.addClass("alert alert-info").html(res.data.message);else{var errors="";$.each(res.data,(function(index,error){errors+="<div>"+error+"</div>"})),btn.attr("disabled",!1).show(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html(errors)}})).fail((function(e){btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html("Failed to save.")})).error((function(e){btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html("Error while saving.")}))})),$(document).on("submit",".lead_generator-form",(function(e){e.preventDefault();var this_form=$(this),btn=$(this).find(".lead_generator-submit"),elem_loading=this_form.find(".loading"),elem_js_errors=this_form.find(".js-errors"),elem_js_success=this_form.find(".js-success"),elem_lead_generator_wrap=this_form.find(".lead_generator-wrap");elem_loading.show(),elem_js_errors.addClass("d-none").html(""),btn.attr("disabled",!0).hide();var formData=this_form.serialize(),the_url;if(formData+="&source="+this_form.closest(".single-article").find("h1:first").data("href"),js_errors="",this_form.find('input[name="email"]').length&&""==this_form.find('input[name="email"]').val()&&(js_errors+="Please enter a valid email address."),""!=js_errors)return btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html(js_errors),!1;$.post(brag_observer.url,{action:"save_lead_generator_response",formData:formData},(function(res){if(elem_loading.hide(),res.success)elem_lead_generator_wrap.hide(),res.data.verified?elem_js_success.addClass("alert alert-success").html(res.data.message):elem_js_success.addClass("alert alert-info").html(res.data.message);else{var errors="";$.each(res.data,(function(index,error){errors+="<div>"+error+"</div>"})),btn.attr("disabled",!1).show(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html(errors)}})).fail((function(e){btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html("Failed to save.")})).error((function(e){btn.attr("disabled",!1).show(),elem_loading.hide(),elem_js_errors.removeClass("d-none").addClass("alert alert-danger").html("Error while saving.")}))}))}));