var pmc_apstag=pmc_apstag||{};jQuery(document).ready(function(){if("undefined"!=typeof apstag){var a=!1;pmc_apstag.amzn_cust_params="","is_video"in pmc_apstag&&"enabled"===pmc_apstag.is_video&&(a=!0),pmc_apstag.ad_slots=function(){var b=[],c=[],d={};return"settings"in pmc_adm_gpt&&"ad_list"in pmc_adm_gpt.settings&&"default"in pmc_adm_gpt.settings.ad_list&&(b=pmc_adm_gpt.settings.ad_list["default"]),b.forEach(function(a){!("oop"in a)&&"targeting"in a&&"pos"in a.targeting&&(d={},"undefined"!=typeof a.id&&"undefined"!=typeof a.width&&(d.slotID=a.id,d.sizes=a.width,c.push(d)))}),!0===a&&c.push({slotID:"videoSlot",mediaType:"video"}),c},pmc_apstag.fetch_bids=function(b,c){apstag.fetchBids(b,function(b){a&&handle_apstag_video_bid(b),"undefined"!=typeof c&&1===c.length&&0 in c&&"slotID"in c[0]&&"videoSlot"===c[0].slotID||googletag.cmd.push(function(){apstag.setDisplayBids(),("undefined"==typeof pmc_header_bidder||"undefined"==typeof pbjs||"1"!==pmc_header_bidder.active)&&("undefined"!=typeof pmc_adm_gpt&&"undefined"==typeof c?pmc_adm_gpt.render_ads():"undefined"!=typeof c?googletag.pubads().refresh(c):googletag.pubads().refresh())})})},handle_apstag_video_bid=function(a){var b=a.filter(function(a){return"video"===a.mediaType})[0];b&&(pmc_apstag.amzn_cust_params="&scp="+b.encodedQsParams)},build_apstag_video_tag=function(a){var b="";window.location.href;return"undefined"!=typeof jwplayer&&"defaults"in jwplayer&&"advertising"in jwplayer.defaults&&"schedule"in jwplayer.defaults.advertising&&"undefined"!=typeof jwplayer.defaults.advertising.schedule[0]?(b=jwplayer.defaults.advertising.schedule[0].tag,"undefined"!=typeof amzn_cust_params&&""!==b&&(pmc_apstag.amzn_cust_params=amzn_cust_params,b+=amzn_cust_params),b):""},apstag_refresh_bids=function(a){var b=[],c={};0<a.length?"string"==typeof a[0].mediaType&&"video"===a[0].mediaType?b=a:a.forEach(function(a){c.slotID=a.getSlotElementId(),c.sizes=[],a.getSizes().forEach(function(a){c.sizes.push([a.getWidth(),a.getHeight()])}),b.push(c)}):b=pmc_apstag.ad_slots(),pmc_apstag.fetch_bids({slots:b,timeout:1e3},a)},"object"==typeof pmc_meta&&"undefined"!=typeof pmc_meta.is_eu&&!0===pmc_meta.is_eu||-1!==window.location.search.indexOf("region=eu")?pmc.hooks.add_action("pmc_adm_consent_data_ready",function(a){"object"==typeof a&&"undefined"!=typeof a.returnValue&&pmc_apstag.fetch_bids({slots:pmc_apstag.ad_slots()})}):pmc_apstag.fetch_bids({slots:pmc_apstag.ad_slots()})}});