"use strict";tinymce&&(tinymce.create("tinymce.plugins.pmcfcBadgeLabelPlugin",{init:function(l,e){l.addButton("pmcfcBadgeLabelButton",{title:window.pmcfcBadgeLabelData.buttonTitle,cmd:"pmcfcBadgeLabelCmd",image:!1}),l.addCommand("pmcfcBadgeLabelCmd",function(){var t="["+window.pmcfcBadgeLabelData.shortcodeTag+"]",n="[/"+window.pmcfcBadgeLabelData.shortcodeTag+"]",c=l.selection.getContent({format:"text"});c=(c=c.replaceAll(t,"")).replaceAll(n,"");var e=l.windowManager.open({title:window.pmcfcBadgeLabelData.modalTitle,body:[{type:"textbox",name:"label",label:window.pmcfcBadgeLabelData.fieldLabel,minWidth:500,value:c}],buttons:[{text:window.pmcfcBadgeLabelData.buttonOk,subtype:"primary",onclick:function(){e.submit()}},{text:window.pmcfcBadgeLabelData.buttonCancel,onclick:function(){e.close()}}],onsubmit:function(e){var a=e.data.label.length<1?c:e.data.label,a=(new DOMParser).parseFromString(a,"text/html").body.textContent||"",e=t;e+=a,l.execCommand("mceInsertContent",!1,e+=n)}})})}}),tinymce.PluginManager.add("pmcfcBadgeLabelButton",tinymce.plugins.pmcfcBadgeLabelPlugin));