jQuery(document).ready(function(a){var b={seconds_range:{_5:5,_10:10,_30:30,_60:60,_90:90,_120:120,_300:300,_600:600},percent_range:{_5:5,_10:10,_25:25,_50:50,_75:75,_95:95},players:{},event_list:{},player_prefix:"yt_",target_selector:[".youtube-player",".c-player__thumb > iframe",".c-pvm-player__thumb > iframe"],init:function(){window.pmc_video_player_event_tracking&&(window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady.bind(this),this.event_list=window.pmc_video_player_event_tracking)},onYouTubeIframeAPIReady:function(){var b=this;a.each(this.target_selector,function(c,d){var e=a(d);0!==e.length&&a.each(e,function(c,d){a(d).attr("src")?a(d).ready(function(){a(d).data("autoplay",!0),b.init_player(d)}):a(d).on("load",function(){a(d).data("autoplay",!1),b.init_player(d)})})})},init_player:function(b){var c="",d=window.YT||d;a(b)[0].id&&"object"==typeof d&&(c=d.get(a(b)[0].id)),c||"object"!=typeof d?(c.addEventListener("onReady",this.on_player_ready.bind(this)),c.addEventListener("onStateChange",this.on_player_state_change.bind(this)),c.addEventListener("onError",this.on_player_error.bind(this))):new d.Player(b,{events:{onReady:this.on_player_ready.bind(this),onStateChange:this.on_player_state_change.bind(this),onError:this.on_player_error.bind(this)}})},on_player_ready:function(b){var c=this;this.reset_player(b.target),a(b.target.getIframe()).on("yt-player:stop",function(){c.on_player_stop(b.target)}),a(b.target.getIframe()).on("yt-player:play",function(){b.target.playVideo()})},on_player_state_change:function(a){var b=this.get_player_video_id(a.target);if(a.data||0===a.data)switch(b&&(this.players[b].status=a.data),a.data){case 0:this.on_player_video_ended(a);break;case 1:this.start_player_interval(a);break;case 2:this.on_player_paused(a);break;case 3:this.players[b].last_status=a.data}},on_player_error:function(a){var b=this.get_concatenated_label(a.target);"1"===this.event_list.basic.error&&b&&this.send_ga_event(a.target,"error",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+b,!1)},on_player_stop:function(a){var b=this.get_player_video_id(a);a.stopVideo(),this.reset_player(a),this.players[b].last_status=2},on_player_paused:function(a){var b=this.get_concatenated_label(a.target),c=this.get_player_video_id(a.target),d=0,e=0,f=0;c&&(d=a.target.getCurrentTime(),e=this.players[c].time_played,f=d-e,clearInterval(this.players[c].int_id),b&&2===this.players[c].status&&"1"===this.event_list.advanced.pause&&6>=Math.abs(f)&&this.send_ga_event(a.target,"press-pause",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+b,!1),this.players[c].last_status=2,this.players[c].time_played=d)},on_player_video_ended:function(a){var b=this.get_concatenated_label(a.target),c=this.get_player_video_id(a.target);c&&(clearInterval(this.players[c].int_id),b&&"1"===this.event_list.basic._100_percent_played&&this.send_ga_event(a.target,"100-percent-played",this.player_prefix+b,!1),this.players[c].last_status=0)},start_player_interval:function(a){var b=this,c=this.get_player_video_id(a.target),d=this.get_concatenated_label(a.target),e=a.target.getCurrentTime();d&&(this.players[c].int_id=setInterval(function(){b.extract_player_data(a)},5e3),this.players[c].is_autoplay&&!this.players[c].is_autoplay_sent&&"1"===this.event_list.basic.autoplay&&(this.send_ga_event(a.target,"autoplay",this.player_prefix+d,!0),this.players[c].is_autoplay_sent=!0),(!this.players[c].is_autoplay&&-1===this.players[c].last_status||2===this.players[c].last_status)&&1===this.players[c].status&&"1"===this.event_list.basic.play&&this.send_ga_event(a.target,"press-play",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+d,!1),this.players[c].last_status=1,this.players[c].time_played=e)},extract_player_data:function(a){this.seconds_played(a),this.percent_played(a),this.volume_changed(a),this.is_mute(a)},seconds_played:function(b){var c=this,d=b.target.getCurrentTime(),e=this.get_concatenated_label(b.target),f=this.get_player_video_id(b.target);if(e){var g=this.players[f].time_played,h=d-g;h>=10?"1"===this.event_list.advanced.jump_forward&&this.send_ga_event(b.target,"jump-forward",this.player_prefix+"from"+Math.floor(g)+"to"+Math.floor(d)+"_"+e,!1):-10>=h&&"1"===this.event_list.advanced.jump_backward&&this.send_ga_event(b.target,"jump-backward",this.player_prefix+"from"+Math.floor(g)+"to"+Math.floor(d)+"_"+e,!1);var i=this.players[f].seconds_range;a.each(i,function(a,g){d>g&&("_30"===a&&"1"===c.event_list.basic.content_consumed&&!1===c.players[f].is_content_consumed_sent&&(c.send_ga_event(b.target,"content-consumed",c.player_prefix+e,!1),c.players[f].is_content_consumed_sent=!0),"1"===c.event_list.advanced.seconds_played[a]&&(c.send_ga_event(b.target,a.slice(1)+"-seconds-played",c.player_prefix+e,!1),delete c.players[f].seconds_range[a]))}),this.players[f].time_played=d}},percent_played:function(b){var c=this,d=b.target.getCurrentTime(),e=this.get_concatenated_label(b.target),f=this.get_player_video_id(b.target);if(e){var g=this.players[f].percent_range,h=100*d/this.players[f].duration;a.each(g,function(a,d){h>d&&"1"===c.event_list.advanced.percent_played[a]&&(c.send_ga_event(b.target,a.slice(1)+"-percent-played",c.player_prefix+e,!1),delete c.players[f].percent_range[a])})}},volume_changed:function(a){var b=this.get_player_volume(a.target),c=this.get_concatenated_label(a.target),d=this.get_player_video_id(a.target);if(c){var e=b-this.players[d].volume;e>0?"1"===this.event_list.advanced.volume_up&&this.send_ga_event(a.target,"press-volume-up",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+c,!1):0>e&&"1"===this.event_list.advanced.volume_down&&this.send_ga_event(a.target,"press-volume-down",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+c,!1),this.players[d].volume=b}},is_mute:function(a){var b=this.is_player_mute(a.target),c=this.get_concatenated_label(a.target),d=this.get_player_video_id(a.target);b!==this.players[d].is_mute&&(b&&"1"===this.event_list.advanced.mute?this.send_ga_event(a.target,"press-mute",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+c,!1):b||"1"!==this.event_list.advanced.unmute||this.send_ga_event(a.target,"press-unmute",this.player_prefix+Math.floor(a.target.getCurrentTime())+"_"+c,!1),this.players[d].is_mute=b)},get_player_video_id:function(a){var b=a.getVideoData();return b.video_id?b.video_id:!1},get_player_video_name:function(a){var b=a.getVideoData(),c=b.title;return c=c.replace(/[\W_]+/g,"-"),c?c.toLowerCase():!1},get_concatenated_label:function(a){var b=this.get_player_video_name(a),c=this.get_player_video_id(a);return b&&c?c+"_"+b:!1},get_video_duration:function(a){return a.getDuration()},get_player_volume:function(a){return a.getVolume()},is_player_mute:function(a){return a.isMuted()},send_ga_event:function(a,b,c,d){window.pmc&&window.pmc.event_tracking&&window.pmc.event_tracking(a,b,"video",c,!1,!1,d)},reset_player:function(b){var c=this.get_player_video_id(b),d=a(b.getIframe());c&&(this.players[c]={status:-1,last_status:-1,seconds_range:Object.assign({},this.seconds_range),percent_range:Object.assign({},this.percent_range),int_id:0,duration:this.get_video_duration(b),volume:this.get_player_volume(b),is_mute:this.is_player_mute(b),time_played:0,is_autoplay:a(d).data("autoplay"),is_autoplay_sent:!1,is_content_consumed_sent:!1})}};b.init()});