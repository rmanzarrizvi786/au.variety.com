"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var _window$wp$i18n=window.wp.i18n,__=_window$wp$i18n.__,_x=_window$wp$i18n._x,_n=_window$wp$i18n._n,_nx=_window$wp$i18n._nx,PMCCerosEmbedsAdmin=function(){function e(){_classCallCheck(this,e),this.setupHooks()}return _createClass(e,[{key:"setupHooks",value:function(){var e=jQuery,t=this;e("#btn-pmc-ceros-embeds-converter").on("click",function(e){t.convertHTML(e,t)}),e("#pmc-ceros-embeds-html, #pmc-ceros-embeds-shortcode").on("click",t.selectAllText)}},{key:"selectAllText",value:function(){jQuery(this).select()}},{key:"convertHTML",value:function(e,t){t.hideMsg();var o=jQuery,s=__("Unable to convert HTML to Shortcode. Please make sure HTML is correct.","pmc-ceros-embeds"),r="error",i=o("#pmc-ceros-embeds-html"),n=o("#pmc-ceros-embeds-shortcode"),c=o.trim(i.val()),a=this.getHTMLToShortcodeConversion(c);n.val(""),""!==a&&(n.val(a),s=__("HTML converted to Shortcode successfully","pmc-ceros-embeds"),r="success"),t.setMsg(s,r),e.preventDefault()}},{key:"getHTMLToShortcodeConversion",value:function(e){if(void 0===e||!e)return"";if(void 0===window.pmc_ceros_embeds_config)return"";var t=window.pmc_ceros_embeds_config;if(void 0===t.tag||!t.tag)return"";var o=jQuery,s="["+t.tag,r=o(o.parseHTML(e)),i=o(r).find("iframe"),n=r.attr("id"),c=r.attr("style"),a=r.attr("data-aspectRatio"),l=r.attr("data-mobile-aspectRatio"),d=i.attr("src"),u=i.attr("style"),_=i.attr("class"),v=i.attr("title");return void 0!==n&&n&&void 0!==c&&c&&void 0!==d&&d?(s+=' container_id="'+n+'"',s+=' container_style="'+c+'"',s+=void 0!==a&&a?' container_aspect_ratio="'+a+'"':"",s+=void 0!==l&&l?' container_mobile_aspect_ratio="'+l+'"':"",s+=' iframe_src="'+d+'"',s+=void 0!==u&&u?' iframe_style="'+u+'"':"",s+=void 0!==_&&_?' iframe_css="'+_+'"':"",s+=void 0!==v&&v?' iframe_title="'+v+'"':"",s+="]"):""}},{key:"hideMsg",value:function(){jQuery(".section .notice").parent().slideUp(500)}},{key:"showMsg",value:function(){jQuery(".section .notice").parent().slideDown(1e3),setTimeout(this.hideMsg,1e4)}},{key:"setMsg",value:function(e,t){var o="success"!==(o=1<arguments.length&&void 0!==t?t:"success")?"error":o,s=jQuery(".section .notice"),r="notice-success",i="notice-error";s.text(e),"success"===o?s.removeClass(i).addClass(r):s.removeClass(r).addClass(i),this.showMsg()}}]),e}();new PMCCerosEmbedsAdmin;