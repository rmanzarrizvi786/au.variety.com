!function(a){a(document).ready(function(){var b={init:function(){var b,c,d,e,f=this;"undefined"!=typeof wp.media.featuredImage&&(b=wp.media.featuredImage.frame(),b.on("open",function(){"undefined"!=typeof d&&f.validateImageCredit(d),d=b.$el.attr("id"),d="undefined"!==d?d:""}),b.on("uploader:ready",function(){setTimeout(function(){f.validateImageCredit(d)},5e3)}),b.on("selection:toggle",function(){f.validateImageCredit(d)}),b.on("attachment:compat:ready",function(){f.validateImageCredit(d)}),a("#insert-media-button").on("click",function(){"undefined"==typeof c&&setTimeout(function(){"undefined"!==wp.media.frame&&(c=wp.media.frame,e=c.$el.attr("id"),e="undefined"!==e?e:"",c.on("selection:toggle",function(){f.validateImageCredit(e)}),c.on("attachment:compat:ready",function(){f.validateImageCredit(e)}))},1e3)}))},validateImageCredit:function(b){var c,d,e;"undefined"==typeof b||0>=b.length||(c=a("#"+b+" form.compat-item .compat-field-image_credit input"),"undefined"==typeof c||0>=c.length||(d=a("#"+b+" .attachment-details .required"),e=c.val(),("undefined"==typeof d||0>=d.length)&&(d=a("<span>",{"class":"required",text:"Please fill in the required fields."}),a("#"+b+" .attachment-details > h2").after(d)),e="undefined"!=typeof e?e:"",c.removeClass("error"),"undefined"!=typeof e&&0>=e.length&&(c.addClass("error"),d.show()),a(c).on("blur",function(){e=a(this).val(),"undefined"!=typeof e&&0>=e.length?(c.addClass("error"),d.show()):(c.removeClass("error"),d.hide())})))}};b.init()})}(jQuery);