!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.i18n,r=window.wp.components,l=window.wp.editPost,o=window.wp.primitives,a=(0,t.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(o.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),c=window.wp.plugins,i=window.wp.compose,u=window.wp.data,s=window.wp.wordcount,m=({text:e})=>(0,t.createElement)("div",{className:"pmc-word-count"},(0,t.createElement)("p",null,(0,n._x)("Words","Number of words counted in given string","pmc-gutenberg"),": ",(0,s.count)(e,"words",{}),","," ",(0,n._x)("characters","Number of characters counted in given string","pmc-gutenberg"),": ",(0,s.count)(e,"characters_including_spaces",{}))),p=(0,i.compose)((0,u.withSelect)((e=>({excerptOverride:e("core/editor").getEditedPostAttribute("meta").override_post_excerpt}))),(0,u.withDispatch)((e=>({setMetaValue:t=>{e("core/editor").editPost({meta:{override_post_excerpt:t}})}}))))((({excerptOverride:e,setMetaValue:n})=>(0,t.createElement)("div",null,(0,t.createElement)(r.TextareaControl,{label:"Excerpt (Dek)",help:"Override the post excerpt.",value:e,onChange:e=>n(e)}),(0,t.createElement)(m,{text:e})))),d=(0,i.compose)((0,u.withSelect)((e=>({titleOverride:e("core/editor").getEditedPostAttribute("meta").override_post_title}))),(0,u.withDispatch)((e=>({setMetaValue:t=>{e("core/editor").editPost({meta:{override_post_title:t}})}}))))((({titleOverride:e,setMetaValue:n})=>(0,t.createElement)("div",null,(0,t.createElement)(r.TextControl,{label:"Title (Hed)",help:"Override the post title.",value:e,onChange:e=>n(e)}),(0,t.createElement)(m,{text:e})))),g=window.lodash,w=window.wp.apiFetch,_=e.n(w),h=(0,i.compose)([(0,i.withState)(),(0,u.withSelect)(((e,{taxonomySlug:t})=>{const{getTaxonomy:n}=e("core"),r=n(t);return r?{currentTerms:e("core/editor").getEditedPostAttribute(r.rest_base),taxonomyRestBase:r.rest_base}:{currentTerms:[],taxonomyRestBase:null}})),(0,u.withDispatch)(((e,{currentTerms:t,taxonomyRestBase:n})=>({updateTerms:r=>{const l=-1!==t.indexOf(r)?(0,g.without)(t,r):[...t,r];e("core/editor").editPost({[n]:l})}})))])((e=>{const{currentTerms:n,help:l,label:o,updateTerms:a,taxonomyRestBase:c,termSlug:i}=e,[u,s]=(0,t.useState)(),[m,p]=(0,t.useState)();return(0,t.useEffect)((()=>{(({currentTerms:e,isChecked:t,taxonomyRestBase:n,termId:r,termSlug:l,setIsChecked:o,setTermId:a})=>{"number"==typeof r&&"boolean"==typeof t||n&&_()({path:`/wp/v2/${n}`}).then((t=>{const n=t.filter((e=>e.slug===l))[0].id;a(n),o(e.includes(n))}))})({currentTerms:n,isChecked:u,taxonomyRestBase:c,termId:m,termSlug:i,setIsChecked:s,setTermId:p})})),"number"!=typeof m&&"boolean"!=typeof u?(0,t.createElement)(r.Spinner,null):(0,t.createElement)(r.ToggleControl,{label:o,help:l[u],checked:u,onChange:e=>{s(e),a(m)}})})),E=()=>{const e={true:(0,n.__)("Will not appear on homepage","pmc-gutenberg"),false:(0,n.__)("Can appear on homepage","pmc-gutenberg")};return(0,t.createElement)(h,{taxonomySlug:"_post-options",termSlug:"exclude-from-homepage",label:(0,n.__)("Homepage","pmc-gutenberg"),help:e})},b=()=>{const e={true:(0,n.__)("Will not appear on landing pages","pmc-gutenberg"),false:(0,n.__)("Can appear on landing pages","pmc-gutenberg")};return(0,t.createElement)(h,{taxonomySlug:"_post-options",termSlug:"exclude-from-landing-pages",label:(0,n.__)("Landing Pages","pmc-gutenberg"),help:e})},v=()=>{const e={true:(0,n.__)("Will not appear on section fronts","pmc-gutenberg"),false:(0,n.__)("Can appear on section fronts","pmc-gutenberg")};return(0,t.createElement)(h,{taxonomySlug:"_post-options",termSlug:"exclude-from-section-fronts",label:(0,n.__)("Section Fronts","pmc-gutenberg"),help:e})},x=(0,i.compose)([(0,u.withSelect)(((e,{metaKey:t})=>({currentValue:e("core/editor").getEditedPostAttribute("meta")[t]}))),(0,u.withDispatch)(((e,{metaKey:t})=>({updateValue:n=>{const r=!!n||null;e("core/editor").editPost({meta:{[t]:r}})}})))])((e=>{const{currentValue:n,help:l,label:o,updateValue:a}=e,c=!!n;return(0,t.createElement)(r.ToggleControl,{label:o,help:l[c],checked:c,onChange:e=>{a(e)}})})),f=()=>{const e={true:(0,n.__)("Will not appear in river","pmc-gutenberg"),false:(0,n.__)("Can appear in river","pmc-gutenberg")};return(0,t.createElement)(x,{metaKey:"_exclude_post_from_river",label:(0,n.__)("River","pmc-gutenberg"),help:e})};const y=()=>(0,t.createElement)(r.Panel,null,(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Field Overrides","pmc-gutenberg"),initialOpen:!0},(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(d,null)),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(p,null)))),P=()=>(0,t.createElement)(r.Panel,null,(0,t.createElement)(r.PanelBody,{title:(0,n.__)("Exclusions","pmc-gutenberg"),initialOpen:!0},(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(E,null)),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(b,null)),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(f,null)),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(v,null))));(0,c.registerPlugin)("pmc-display",{render:()=>{const e="pmc-display",r=(0,n.__)("Display","pmc-gutenberg");return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.PluginSidebar,{name:e,title:r,icon:a},(0,t.createElement)(P,null),(0,t.createElement)(y,null)),(0,t.createElement)(l.PluginSidebarMoreMenuItem,{target:e,icon:a},r))}})}();